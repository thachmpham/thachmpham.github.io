<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>GBD Breakpoints</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #cccccc; background-color: #303030; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ffcfaf; } /* Alert */
    code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
    code span.at { } /* Attribute */
    code span.bn { color: #dca3a3; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #f0dfaf; } /* ControlFlow */
    code span.ch { color: #dca3a3; } /* Char */
    code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
    code span.co { color: #7f9f7f; } /* Comment */
    code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
    code span.do { color: #7f9f7f; } /* Documentation */
    code span.dt { color: #dfdfbf; } /* DataType */
    code span.dv { color: #dcdccc; } /* DecVal */
    code span.er { color: #c3bf9f; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #c0bed1; } /* Float */
    code span.fu { color: #efef8f; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
    code span.kw { color: #f0dfaf; } /* Keyword */
    code span.op { color: #f0efd0; } /* Operator */
    code span.ot { color: #efef8f; } /* Other */
    code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
    code span.sc { color: #dca3a3; } /* SpecialChar */
    code span.ss { color: #cc9393; } /* SpecialString */
    code span.st { color: #cc9393; } /* String */
    code span.va { } /* Variable */
    code span.vs { color: #cc9393; } /* VerbatimString */
    code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */
  </style>
  <link rel="stylesheet" href="/html/style/dark.css" />
  <!-- <script src="../3pp/d3.v7.js"></script> -->
  <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
      mermaid.initialize({
          theme: 'dark',
      });
  </script>
</head>
<body>
<header id="title-block-header">
<h1 class="title">GBD Breakpoints</h1>
<p class="subtitle">Stop at a location</p>
</header>
<div class="columns">
<div class="column" style="width:50%;">
<p>Software Breakpoint.</p>
<ul>
<li>To setup a software breakpoint, GDB replaces the program instruction
with a trap, illegal divide or some other instructions that will cause
an exception. When the exception raised, GDB catches it and stops the
program.</li>
<li>The number of software breakpoints is unlimited.</li>
<li>To set a software breakpoint, the target address must reside in a
writable memory region.</li>
<li>Typically used for regular debugging, where performance and memory
permissions are not critical.</li>
</ul>
</div><div class="column" style="width:50%;">
<p>Hardware Breakpoint.</p>
<ul>
<li>To setup a hardware breakpoint, GDB stores the breakpoint address to
a debug register. When the program counter $pc matches the value in the
debug register, GDB stops the program.</li>
<li>The number of debug registers are limited and varies depending on
the architecture. For example, x86 has 4 debug registers, DR0-DR3. So,
the number of hardward breakpoints is limited.</li>
<li>A hardware breakpoint can be placed at an address in read-only
memory region.</li>
<li>The impact of a hardware breakpoint on program performance is
smaller than that of a software breakpoint.</li>
<li>Typically used for read-only code or in live system, where
performance and memory safety are critical.</li>
</ul>
</div>
</div>
<hr />
<p><br></p>
<h2 id="break">break</h2>
<div class="columns">
<div class="column">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Linespec Location</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>break 10</code></td>
<td>Line 10 current file</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>break hello.c::10</code></td>
<td>Line 10, file hello.c</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>break -3</code></td>
<td>Current line -3</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>break +3</code></td>
<td>Current line +3</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>break sum</code></td>
<td>Function sum</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>break hello.c::sum</code></td>
<td>Function sum in hello.c</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>break A::sum</code></td>
<td>Function A::sum</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Explicit Location</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>break -qualified sum</code></td>
<td style="text-align: left;">Match sum, not A::sum</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Address Location</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>break *sum+16</code></td>
<td style="text-align: left;">Instruction 16 in sum</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>break 0x</code>0x400670</td>
<td style="text-align: left;">Instruction at 0x400670</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Regex Location</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>rbreak sum.*</code></td>
<td style="text-align: left;">Function sum.*</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>rbreak demo.c:sum.*</code></td>
<td style="text-align: left;">Function sum.* in hello.c</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>rbreak .</code></td>
<td style="text-align: left;">All function in current program</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>rbreak demo.c:.</code></td>
<td style="text-align: left;">All function in file</td>
</tr>
</tbody>
</table>
</div><div class="column">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Condition</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>break sum if x &gt; 3</code></td>
<td style="text-align: left;">Conditional</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>break sum inferior 1</code></td>
<td style="text-align: left;">Inferior specific</td>
</tr>
<tr class="odd">
<td
style="text-align: left;"><code>break sum inferior 1 if x &gt; 3</code></td>
<td style="text-align: left;">Inferior + condition</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>break sum thread 1</code></td>
<td style="text-align: left;">Thread specific</td>
</tr>
<tr class="odd">
<td
style="text-align: left;"><code>break sum thread 1 if x &gt; 3</code></td>
<td style="text-align: left;">Thread + condition</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>condition 2 if x &gt; 5</code></td>
<td style="text-align: left;">Change condition of break 2</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Command</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>command</code></td>
<td style="text-align: left;">Command for current break</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>command 2</code></td>
<td style="text-align: left;">Command for break 2</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">command</span> 2</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">info</span> args</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">backtrace</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">continue</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="ex">end</span></span></code></pre></div>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Temporary Break</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>tbreak sum</code></td>
<td>Auto delete after hit</td>
</tr>
</tbody>
</table>
</div><div class="column">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Management</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>info break</code></td>
<td style="text-align: left;">List of breakpoints</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>enable break [ids]</code></td>
<td style="text-align: left;">Enable breakpoints</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>disable break [ids]</code></td>
<td style="text-align: left;">Disable breakpoints</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>delete break [ids]</code></td>
<td style="text-align: left;">Delete breakpoints</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>clear &lt;locspec&gt;</code></td>
<td style="text-align: left;">Delete all breakpoints at locspec</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>save break &lt;file&gt;</code></td>
<td style="text-align: left;">Save breakpoints to file</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>source &lt;file&gt;</code></td>
<td style="text-align: left;">Load breakpoints from file</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr />
<p><br></p>
<h2 id="hbreak">hbreak</h2>
<p>Set hbreak at a function in a mmap region.</p>
<div class="columns">
<div class="column" style="width:40%;">
<p>File math.c</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb2-1"><a href="#cb2-1"></a><span class="dt">int</span> sum<span class="op">(</span><span class="dt">int</span> x<span class="op">,</span> <span class="dt">int</span> y<span class="op">)</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="op">{</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>    <span class="cf">return</span> x <span class="op">+</span> y<span class="op">;</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="op">}</span></span>
<span id="cb2-5"><a href="#cb2-5"></a></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="dt">int</span> sub<span class="op">(</span><span class="dt">int</span> x<span class="op">,</span> <span class="dt">int</span> y<span class="op">)</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="op">{</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>    <span class="cf">return</span> x <span class="op">-</span> y<span class="op">;</span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="op">}</span></span></code></pre></div>
<p>File main.c</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb3-1"><a href="#cb3-1"></a><span class="pp">#include </span><span class="im">&lt;sys/mman.h&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="pp">#include </span><span class="im">&lt;stddef.h&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="pp">#include </span><span class="im">&lt;fcntl.h&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb3-5"><a href="#cb3-5"></a></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="op">{</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>    <span class="co">// load math.o to a new memory region</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>    <span class="dt">int</span> fd <span class="op">=</span> open<span class="op">(</span><span class="st">&quot;math.o&quot;</span><span class="op">,</span> O_RDONLY<span class="op">);</span></span>
<span id="cb3-10"><a href="#cb3-10"></a>    <span class="dt">void</span> <span class="op">*</span>addr <span class="op">=</span> mmap<span class="op">(</span></span>
<span id="cb3-11"><a href="#cb3-11"></a>        NULL<span class="op">,</span> <span class="co">// kernel choose start addr for region</span></span>
<span id="cb3-12"><a href="#cb3-12"></a>        <span class="dv">4096</span><span class="op">,</span> <span class="co">// length of the region</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>        PROT_READ<span class="op">|</span>PROT_EXEC<span class="op">,</span>    <span class="co">// protection mode</span></span>
<span id="cb3-14"><a href="#cb3-14"></a>        MAP_PRIVATE<span class="op">,</span>            <span class="co">// visible mode</span></span>
<span id="cb3-15"><a href="#cb3-15"></a>        fd<span class="op">,</span>                     <span class="co">// file to load</span></span>
<span id="cb3-16"><a href="#cb3-16"></a>        <span class="dv">0</span>                       <span class="co">// offset in file</span></span>
<span id="cb3-17"><a href="#cb3-17"></a>    <span class="op">);</span></span>
<span id="cb3-18"><a href="#cb3-18"></a></span>
<span id="cb3-19"><a href="#cb3-19"></a>    <span class="co">// find address of .text segment</span></span>
<span id="cb3-20"><a href="#cb3-20"></a>    <span class="dt">void</span> <span class="op">*</span>text <span class="op">=</span> addr <span class="op">+</span> <span class="bn">0x0040</span><span class="op">;</span></span>
<span id="cb3-21"><a href="#cb3-21"></a></span>
<span id="cb3-22"><a href="#cb3-22"></a>    <span class="co">// find address of sum and sub functions</span></span>
<span id="cb3-23"><a href="#cb3-23"></a>    <span class="dt">void</span> <span class="op">*</span>sum <span class="op">=</span> text <span class="op">+</span> <span class="bn">0x0000</span><span class="op">;</span></span>
<span id="cb3-24"><a href="#cb3-24"></a>    <span class="dt">void</span> <span class="op">*</span>sub <span class="op">=</span> text <span class="op">+</span> <span class="bn">0x0018</span><span class="op">;</span></span>
<span id="cb3-25"><a href="#cb3-25"></a></span>
<span id="cb3-26"><a href="#cb3-26"></a>    <span class="co">// call sum(5, 4)</span></span>
<span id="cb3-27"><a href="#cb3-27"></a>    <span class="dt">int</span> isum <span class="op">=</span> <span class="op">((</span><span class="dt">int</span> <span class="op">(*)(</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">))</span>sum<span class="op">)(</span><span class="dv">5</span><span class="op">,</span> <span class="dv">4</span><span class="op">);</span></span>
<span id="cb3-28"><a href="#cb3-28"></a></span>
<span id="cb3-29"><a href="#cb3-29"></a>    <span class="co">// call sub(5, 4)</span></span>
<span id="cb3-30"><a href="#cb3-30"></a>    <span class="dt">int</span> isum <span class="op">=</span> <span class="op">((</span><span class="dt">int</span> <span class="op">(*)(</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">))</span>sub<span class="op">)(</span><span class="dv">5</span><span class="op">,</span> <span class="dv">4</span><span class="op">);</span></span>
<span id="cb3-31"><a href="#cb3-31"></a></span>
<span id="cb3-32"><a href="#cb3-32"></a>    printf<span class="op">(</span><span class="st">&quot;isum=</span><span class="sc">%d</span><span class="st">, isub=</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> isum<span class="op">,</span> isum<span class="op">);</span></span>
<span id="cb3-33"><a href="#cb3-33"></a>    <span class="co">// output: isum=9, isum=1</span></span>
<span id="cb3-34"><a href="#cb3-34"></a></span>
<span id="cb3-35"><a href="#cb3-35"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb3-36"><a href="#cb3-36"></a><span class="op">}</span></span></code></pre></div>
<p>Run.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> gcc <span class="at">-c</span> math.c <span class="at">-o</span> math.o</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> gcc <span class="at">-g</span> main.c <span class="at">-o</span> main</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./main</span></code></pre></div>
</div><div class="column" style="width:50%;">
<p>Inspect math.o</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> readelf <span class="at">--section-headers</span> <span class="at">--wide</span> math.o</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">[Nr]</span> Name     Type        Address             Off     Size    ES  Flg Lk Inf Al</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">[</span> 1] .text    PROGBITS    <span class="er">0000000000000000</span>    <span class="ex">000040</span>  00002e  00  AX  0   0  1</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> readelf <span class="at">--symbols</span> math.o</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>   <span class="ex">Num:</span>    Value          Size Type    Bind   Vis      Ndx Name     </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>     <span class="ex">3:</span> 0000000000000000    24 FUNC    GLOBAL DEFAULT    1 sum</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>     <span class="ex">4:</span> 0000000000000018    22 FUNC    GLOBAL DEFAULT    1 sub</span></code></pre></div>
<p>Inspect process memory.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="fu">gdb</span><span class="kw">)</span> <span class="cf">break</span> <span class="ex">main.c:27</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="fu">gdb</span><span class="kw">)</span> <span class="ex">run</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="fu">gdb</span><span class="kw">)</span> <span class="ex">info</span> proc mappings</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>      <span class="ex">Start</span> Addr           End Addr       Size     Offset  Perms  objfile</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">0x7ffff7ffa000</span>     0x7ffff7ffb000     0x1000        0x0  r-xp   math.o</span></code></pre></div>
<p>Illustrate math.o and process memory.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="op">+---------------------+</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="op">|</span>       <span class="op">........</span>      <span class="op">|</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="op">+---------------------+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="op">|</span> <span class="op">.</span>text               <span class="op">|</span> <span class="bn">0x0040</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="op">|</span>  <span class="op">+</span> sum<span class="op">()</span>            <span class="op">|</span>         <span class="op">+</span> <span class="bn">0x0000</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="op">|</span>  <span class="op">+</span> sub<span class="op">()</span>            <span class="op">|</span>         <span class="op">+</span> <span class="bn">0x0018</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="op">+---------------------+</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="op">+---------------------+</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="op">|</span>       <span class="op">........</span>      <span class="op">|</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="op">+---------------------+</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="op">|</span> math<span class="op">.</span>o              <span class="op">|</span> <span class="bn">0xfffff7ff5000</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="op">|</span>   <span class="op">.</span>text             <span class="op">|</span> <span class="bn">0xfffff7ff5040</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="op">|</span>   ├── sum<span class="op">()</span>         <span class="op">|</span>         <span class="op">+</span> <span class="bn">0x0000</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="op">|</span>   └── sub<span class="op">()</span>         <span class="op">|</span>         <span class="op">+</span> <span class="bn">0x0018</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="op">+---------------------+</span></span></code></pre></div>
<p>Add symbols and hbreak.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="fu">gdb</span><span class="kw">)</span> <span class="ex">add-symbol-file</span> math.o 0x7ffff7ffa040</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="fu">gdb</span><span class="kw">)</span> <span class="ex">info</span> function sub</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="ex">0x00007ffff7ffa058</span>  sub</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="fu">gdb</span><span class="kw">)</span> <span class="ex">hbreak</span> sub</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Hardware</span> assisted breakpoint 5 at 0x7ffff7ffa060</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="fu">gdb</span><span class="kw">)</span> <span class="cf">continue</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="ex">Breakpoint</span> 5, 0x00007ffff7ffa060 in sub <span class="er">(</span><span class="kw">)</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="fu">gdb</span><span class="kw">)</span> <span class="ex">backtrace</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co">#0  0x00007ffff7ffa060 in sub ()</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co">#1  0x000055555555521d in main () at main.c:30</span></span></code></pre></div>
</div>
</div>
<hr />
<p><br></p>
<h3 id="reference">Reference</h3>
<ul>
<li><a
href="https://sourceware.org/gdb/wiki/Internals/Breakpoint%20Handling">GDB
Internal, Breakpoint Handling</a></li>
</ul>
<footer class="footer text-muted">
   <div align="center">      
      <br>
      <br>
      <a href="/index.html"><b>Home</b></a>
   </div>
 </footer>
</body>
</html>
